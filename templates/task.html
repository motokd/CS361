{% extends "layout.html" %}
{% block content %}
    <header class="site-header">
      <nav>
        <div class="container">
          <a href="/">TASKS MANAGER</a>
          <button type="button" data-toggle="collapse" data-target="#navbarToggle" aria-controls="navbarToggle">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbarToggle">
            <div>
              <a href="{{ url_for('home') }}">Home</a>
              <a href="{{ url_for('add') }}">Add Task</a>
                <a href="{{ url_for('help') }}">Add Task</a>
            </div>
            <!-- Navbar Right Side -->
            <div class="navbar-nav">
              <a href="{{ url_for('login') }}">Logout</a>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <article>
      <div>
        <div>
          <h3>{{ task.task_title }}</h3>

            <div>
                <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{{ url_for('update_task', task_id=task.task_id) }}">Update</a>
                <button type="button" class="btn btn-danger btn-sm m-1" data-toggle="modal" data-target="#deleteModal">Delete</button>
              </div>


            <br><br>
            <small>Due Date:</small>
          <small class="text-muted">{{ task.task_duedate.strftime('%Y-%m-%d') }}</small>
            <br><br>
            <small>Priority:</small>
           <small class="task-priority">{{ task.task_priority }}</small>
            <br><br>
        </div>
         <small>Details:</small>
          <br>
        <small class="article-content">{{ task.task_details }}</small>
      </div>
    </article>

     <!-- Modal from bootsrap directly-->
      <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="deleteModalLabel">Delete Task?</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <form action="{{ url_for('delete_task', task_id=task.task_id) }}" method="POST">
                <input class="btn btn-danger" type="submit" value="Delete">
              </form>
            </div>
          </div>
        </div>
      </div>
{% endblock content %}